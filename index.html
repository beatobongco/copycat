<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>copycat.js</title>
    <meta name="description" content="Make DOM elements copy shallow properties of an object in 335 bytes!" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        width: 500px;
        margin: 0 auto;
        line-height: 1.5;
      }

      .app {
        background-color: #95afc0;
        padding: 1rem;
        border-radius: 3px;
      }
    </style>
    <script>
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function() {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        'script',
        '//www.google-analytics.com/analytics.js',
        'ga'
      );
      ga('create', 'UA-56608851-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <h1>copycat.js üê±</h1>
    <p>
      Make DOM elements copy shallow properties of an object in 335 bytes!
    </p>

    <p>
      Try changing the value of <code>cat.name</code> and
      <code>cat.value</code> in your console.
    </p>

    <div class="app" id="app"></div>

    <p>
      copycat is shallow. Executing <code>cat2.nest.value = 2</code> wont result
      in a change but <code>cat2.nest = {value: 2}</code> will!
    </p>

    <div class="app" id="app2"></div>

    <h3>Usage</h3>

    <p>
      const objectBeingWatched = copycat(element_id, object_to_bind, template_function)
    </p>

    <ul>
      <li>objectBeingWatched: you will be able to modify the properties of this object to get changes in the DOM.</li>
      <li>
        element_id: id of the element where you want to mount the template
      </li>
      <li>object_to_bind: object you want to bind</li>
      <li>
        template_function: function with one argument used to fill in the
        template string
      </li>
    </ul>

    <h3>Example</h3>

    <p>
      <pre>
        <code>
&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;

const cat = copyCat(
  '#app',
  {
    name: 'cat',
    value: 1
  },
  data => `&lt;p&gt;
    Hi, I'm ${data.name}. I have a value of ${data.value}
  &lt;/p&gt;`
  );

cat.name = 'Tom';
        </code>
      </pre>
    </p>

    <h3>Installation</h3>

    <p>Copy the following code into your project:</p>

    <p>
      <code>
        function copyCat(e,r,t){function
        n(r){document.querySelector(e).innerHTML=t(r)}return n(r),new
        Proxy(r,{get(e,r,t){try{return new Proxy(e[r],handler)}catch(n){return
        Reflect.get(e,r,t)}},defineProperty(e,t,o){const
        c=Reflect.defineProperty(e,t,o);return n(r),c},deleteProperty(e,t){const
        o=Reflect.defineProperty(e,t);return n(r),o}})}
      </code>
    </p>

    <p><a href="https://github.com/beatobongco/copycat/blob/master/copycat.js">Want to see the code?</a></p>

    <h3>Credits</h3>
    <p>
      Copycatted from Sindre Sorhus's
      <a href="https://github.com/sindresorhus/on-change"
        >on-change</a
      >
    </p>

    <script src="copycat.js"></script>
    <script>
      const cat = copyCat(
        '#app',
        {
          name: 'cat',
          value: 1
        },
        data => `<p>
          Hi, I'm ${data.name}. I have a value of ${data.value}
        </p>`
      );

      cat.name = 'Tom';

      const cat2 = copyCat(
        '#app2',
        { nest: { value: 1 } },
        data => `Nested value: ${data.nest.value}`
      );
    </script>
  </body>
</html>
